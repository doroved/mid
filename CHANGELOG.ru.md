# История изменений

**v5.0.0** - 21 января, 2026

> [!IMPORTANT]
> Machine ID для Linux изменится в этой версии. **Используйте эту версию только для новых проектов или обновите хеши устройств ваших текущих пользователей.**

- Добавлена поддержка iOS.
- Добавлен дополнительный источник получения идентификатора в Linux через `/sys/class/dmi/id/product_uuid`.

**v4.0.0** - 2 октября, 2025

> [!IMPORTANT]
> `Provisioning UDID` был [исключён](https://github.com/doroved/mid/blob/d6504fe6e10150cd40dbe246ea72058997fbe55b/src/macos.rs#L24) из набора данных для создания хеша mac-устройств. Это произошло потому, что при запуске приложения на MacOS Arm через Rosetta 2, значение `Provisioning UDID` становится равным Hardware UUID, вместо того чтобы быть уникальным. Используйте эту версию только для новых проектов или обновите хеши устройств ваших текущих пользователей.

Запустите `bash ./test_rosetta.sh` на ветке check_rosetta для тестирования.

**v3.0.7** - Август 4, 2025
- Исправлена опечатка в названии функции `run_shell_comand` для Linux и Windows

**v3.0.6** - Август 4, 2025
- Добавлен `chip_short` в `mid::additional_data`, который содержит короткое название процессора.
```
Example:
chip -> Apple M1 Pro || intel(r) core(tm) i7-4750hq cpu @ 2.00ghz
chip_short -> m1 pro || Intel
```

**v3.0.4** - Август 3, 2025
- Изменена функция определения имени операционной системы

**v3.0.3** - 17 июля, 2025
- В `mid::additional_data` добавлен model_name

**v3.0.2** - 3 мая, 2025

> [!NOTE]
> Присоединяйтесь к обсуждению данной [дисскуссии](https://github.com/doroved/mid/discussions/5)

- Добавлена фича `serde`
- Добавлены аттрибуты `PartialEq`, `Eq`, ``Clone` для всех структур

**v3.0.0** - 18 сентября, 2024

> [!IMPORTANT]
> `Platform ID` был удален из набора данных для создания хеша mac устройств, т.к. после обновления с macos 14.x до 15.0, он [изменился](https://github.com/doroved/mid/blob/d2587cc51f5bf406df7f84ba420e84942b022e23/src/macos.rs#L25), что привело к изменению хеша устройства. Используйте эту версию только для новых проектов или обновите хеши устройств ваших текущих пользоватей.

**v2.1.0** - 30 июня, 2024

- Добавлена функция `mid::additional_data`, которая возвращает дополнительные данные об устройстве, которые не участвуют в формировании хеша устройства. На текущий момент доступно только для MacOS.

**v2.0.0** - 24 марта, 2024

- Вернул `to_lowercase()` для Windows MID result, который по ошибке был убран в v1.1.3. **Это изменит текущие хеши Windows устройств!** При необходимости, используйте версию 2.0.0 только для новых проектов или попросите пользователей перепривязать лицензию на новые хеши в текущем проекте.
- Добавлена функция `mid::data`, которая возвращает структуру данных: key, result, hash.
- `mid::print` выводит данные в консоль только в режиме отладки, они не попадут в релизную сборку проекта.
- В Linux используются 3 источника получения **machine-id**.
- Секретный ключ для хеширования не может быть пустым.
- Проведен полный рефакторинг кода.
